let e=!1;if("undefined"!=typeof window){const o={get passive(){e=!0}};window.addEventListener("testPassive",null,o),window.removeEventListener("testPassive",null,o)}const o="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1);let n,t,d=[],i=!1,s=-1;const l=e=>d.some(o=>!(!o.options.allowTouchMove||!o.options.allowTouchMove(e))),c=e=>{const o=e||window.event;return!!l(o.target)||o.touches.length>1||(o.preventDefault&&o.preventDefault(),!1)},u=(u,w)=>{if(o){if(!u)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(u&&!d.some(e=>e.targetElement===u)){const o={targetElement:u,options:w||{}};d=[...d,o],u.ontouchstart=e=>{1===e.targetTouches.length&&(s=e.targetTouches[0].clientY)},u.ontouchmove=e=>{1===e.targetTouches.length&&((e,o)=>{const n=e.targetTouches[0].clientY-s;!l(e.target)&&(o&&0===o.scrollTop&&n>0||(e=>!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight)(o)&&n<0?c(e):e.stopPropagation())})(e,u)},i||(document.addEventListener("touchmove",c,e?{passive:!1}:void 0),i=!0)}}else{(e=>{setTimeout(()=>{if(void 0===t){const o=window.innerWidth-document.documentElement.clientWidth;e&&!0===e.reserveScrollBarGap&&o>0&&(t=document.body.style.paddingRight,document.body.style.paddingRight=o+"px")}void 0===n&&(n=document.body.style.overflow,document.body.style.overflow="hidden")})})(w);const e={targetElement:u,options:w||{}};d=[...d,e]}},w=s=>{if(o){if(!s)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");s.ontouchstart=null,s.ontouchmove=null,d=d.filter(e=>e.targetElement!==s),i&&0===d.length&&(document.removeEventListener("touchmove",c,e?{passive:!1}:void 0),i=!1)}else d=d.filter(e=>e.targetElement!==s),d.length||setTimeout(()=>{void 0!==t&&(document.body.style.paddingRight=t,t=void 0),void 0!==n&&(document.body.style.overflow=n,n=void 0)})};export{u as d,w as e}